{% extends 'base.html' %}

{% block content %}
  <div class="challenge-list col-md-8">
    <div class="challenge-title"
      <h1> Challenges - {{ object.title }} </h1>
    </div>

    {% for challenge in object.challenge_set.all %}
      {% if challenge.active %}
        <div class="challenge-item">
          <div href="{% url 'challenge-view' challenge.slug %}" class="challenge-listing">
            <a href="{% url 'challenge-view' challenge.slug %}">
              {{ challenge.title }}
            </a>
          </div>
          <div class="challenge-following">
            ● {{ challenge.category }} ● {{ challenge.points }} Points ● Solved by
            {% if challenge.score_set.count == 1 %}
              {{ challenge.score_set.count }} person
            {% else %}
              {{ challenge.score_set.count }} people
            {% endif %}
          </div>
        </div>
      {% endif %}
      <br>
    {% endfor %}
  </div>
  <div class="col-md-3 col-md-offset-1 score-list">
    <div class="score-title"
      <h1> Score List </h1>
    </div>

    {% for person, score, time in object.score_board %}
      <div class="score-item">
        <div class="score-name">
          {{ person }}
        </div>
        <div class="score-number">
          {{ score }}
        </div>
        <br>
      </div>
    {% endfor %}
  </div>

    <script>
      $(document).ready(function() {
        $('#challenges_table').dataTable();
      });
    </script>

{% endblock %}