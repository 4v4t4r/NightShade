{% extends 'base.html' %}

{% block content %}

    <h1> {{ object.title }} </h1>

    <div class="row" style="margin-bottom: 40px;">
        <div class="col-md-10">
            <p>{{ object.description|linebreaks }}</p>
        </div>
    </div>

    <div class="row">
      <table id="challenges_table" class="table table-bordered table-striped display">
        <thead>
          <tr>
            <th>Challenge</th>
            <th>Category</th>
            <th>Value</th>
          </tr>
        </thead>
        <tbody>
    {% for challenge in object.challenge_set.all %}
        {% if challenge.active %}
          <tr>
            <td>
                <a href="{% url 'challenge-view' challenge.slug %}">
                    {{ challenge.title }}
                </a>
            </td>
            <td>{{ challenge.category }}</td>
            <td>{{ challenge.points }}</td>
          </tr>
        {% endif %}
    {% endfor %}
        </tbody>
      </table>

      <table id="users" class="table table-bordered table-striped display" style="margin-top: 100px; margin-right: 100px">
        <thead>
          <tr>
            <th>Name</th>
            <th>Score</th>
          </tr>
        </thead>
        <tbody>
    {% for person, score, time in object.score_board %}

          <tr>
            <td>{{ person }}</td>
            <td>{{ score }}</td>
          </tr>
    {% endfor %}
        </tbody>
      </table>
    </div>

    <script>
      $(document).ready(function() {
        $('#challenges_table').dataTable();
      });
    </script>

{% endblock %}